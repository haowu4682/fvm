\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{usenix}

%\usepackage{fullpage}
\usepackage{times}
\usepackage[compact]{titlesec}
\usepackage[square,comma,numbers,sort&compress]{natbib}
\iffalse
\usepackage[breaklinks=true,
%	    draft, 
%	    final,
	    pdfdisplaydoctitle=true,
%	    pdfborderstyle={/S/U/W 1}, % try for a dashed underline
	    pdfborder={0 0 0},
%	    pdfborderstyle={/S/D/D[1 4]/W 1}, % try for a dashed underline
%	    bookmarksdepth=3,
%	    pagebackref,
	    bookmarksnumbered=true,
	    linktocpage,
	    citebordercolor={.60 .60 .60}, 
	    linkbordercolor={.60 .60 .60},
	    urlbordercolor={.60 .60 .60},
	    pdfpagelabels,
	    pdfpagelayout=SinglePage,
	    hyperfootnotes=false,
	    letterpaper,
%	    pdftitle=
%	    {Proposal Title},
%	    pdfauthor={Authors}
	    ]{hyperref}
\fi

\usepackage[breaklinks=true,
	    pdfdisplaydoctitle=true,
	    pdfborder={0 0 0},
	    bookmarksnumbered=true,
	    linktocpage,
	    citebordercolor={.60 .60 .60}, 
	    linkbordercolor={.60 .60 .60},
	    urlbordercolor={.60 .60 .60},
	    pdfpagelabels,
	    pdfpagelayout=SinglePage,
	    hyperfootnotes=false,
	    letterpaper,
	    ]{hyperref}


\renewcommand{\ttdefault}{cmtt}

\if 0
\renewcommand*{\backref}[1]{}
\renewcommand*{\backrefalt}[4]{
  \ifcase #1 %
    (Not cited.) %
  \or
    {(Referenced on page #2.)}%
  \else
    {(Referenced on pages #2.)}%
  \fi
}
\renewcommand*{\backrefsep}{, }
\renewcommand*{\backreftwosep}{ and }
\renewcommand*{\backreflastsep}{, and }
\fi

%% % DO NOT TOUCH THESE FOR THE SUBMISSION. THEY ARE REQUIRED FORMATTING.
\setlength{\textheight}{9in}
\setlength{\columnsep}{.25in}
\setlength{\textwidth}{6.5in}
\setlength{\topmargin}{-.125in}
\setlength{\headheight}{0in}
%\setlength{\oddsidemargin}{-.25in}   % 1.375in left margin
%\setlength{\evensidemargin}{-.25in}  % 1.375in left margin (even pages)

%% USENIX DOESN'T SPECIFY THESE, BUT THE DEFAULTS ARE WAY TOO SPACEY.
\setlength{\headsep}{0in}
\setlength{\textfloatsep}{10pt}
\setlength{\dbltextfloatsep}{10pt}
\setlength{\parskip}{0pt}
\setlength{\abovecaptionskip}{5pt}

\usepackage{ccaption}
\captionnamefont{\small\selectfont}
\captiontitlefont{\small\selectfont}
\captiondelim{---}

\frenchspacing

\newcommand{\threequartdash}{\hbox{--\kern-.25em--}}
%\renewcommand{\labelitemi}{\m@th\threequartdash} 
%\renewcommand{\labelitemii}{\m@th$\ast$}
%\renewcommand{\labelitemiii}{\m@th\bullet}

\def\section{\@startsection{section}{1}{\z@}%
	     {-2.5ex \@plus -0.8ex \@minus -.1ex}%
	     {1ex \@plus .2ex}%
	     {\normalfont\large\bfseries}}
\def\subsection{\@startsection{subsection}{2}{\z@}%
	       {-1.5ex \@plus -0.8ex \@minus -.1ex}%
	       {1ex \@plus .2ex}%
	       {\normalfont\bfseries}}
\def\subsubsection{\@startsection{subsubsection}{3}{\z@}%
	       {-2ex \@plus -1ex \@minus -.1ex}%
	       {1ex \@plus .2ex}%
	       {\normalfont\bfseries}}
\def\paragraph{\@startsection{paragraph}{4}{\z@}%
	      {1.3ex \@plus .15ex \@minus .1ex}%
	      {-.5\parindent}%
	      {\normalfont\normalsize\bfseries}}

\global\def\@maketitle{%
  \newpage
  \null
  \vskip -0.3in%
  \null
  \begin{center}%
  \let \footnote \thanks
    {\Large \@title \par}%
    \vskip 0.75em%
    {\normalsize
      \lineskip .5em%
      \begin{tabular}[t]{c}%
        \@author
      \end{tabular}\par}%
    \vskip 1em%
    {\large \@date}%
  \end{center}%
  \par
%  \vskip 3ex}
  \vskip .75ex}

\usepackage[bottom,hang,multiple]{footmisc} % needs to go after setspace

% dummy negative value to make 'hang' option above do the right thing
\setlength{\footnotemargin}{-1em}         

% make the footnote rule wider. the default on latex nauseates me for
% some reason.
\renewcommand\footnoterule{%
  \kern-3\p@
  \hrule\@width\columnwidth\@height.125pt
  \kern2.6\p@}

% hack this to change how footnotes display
%\renewcommand\@makefntext[1]{%
%     \parindent 1em%
%     \noindent
%     \hb@xt@1.3em{\hss\normalfont\@thefnmark.} #1}

% make footnote mark smaller than the default
%\renewcommand\@makefnmark{\@textsuperscript{\fontsize{7}{9}\selectfont\@thefnmark}}

%\renewcommand{\thesection}{\Alph{section}}

% make the bibliography compact
\let\oldthebibliography=\thebibliography
\let\endoldthebibliography=\endthebibliography
\renewenvironment{thebibliography}[1]{%
    \begin{oldthebibliography}{#1}%
        \setlength{\parskip}{0ex}%
        \setlength{\itemsep}{0ex}%
}%
{%
    \end{oldthebibliography}%
}
